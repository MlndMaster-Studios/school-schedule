<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Semester 1 Schedule</title>
  <link rel="icon" href="tab-icon.png" type="image/png">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Day Clock -->
  <div class="day-clock-wrapper">
    <div class="day-clock-card">
      <h2 id="school-day">A Day</h2>
      <p id="dateText">Loading Date...</p>
    </div>
  </div>

  <!-- Dropdown -->
  <div class="dropdown-wrapper">
    <button id="dayDropdownBtn">Select Day â–¾</button>
    <div id="dayDropdown" class="dropdown-menu hidden">
      <div class="dropdown-item" data-day="A">A Day</div>
      <div class="dropdown-item" data-day="B">B Day</div>
      <div class="dropdown-item" data-day="C">C Day</div>
      <div class="dropdown-item" data-day="D">D Day</div>
      <div class="dropdown-item" data-day="E">E Day</div>
      <div class="dropdown-item" data-day="F">F Day</div>
      <div class="dropdown-item" data-day="G">G Day</div>
      <div class="dropdown-item" data-day="WED">Wednesday</div>
    </div>
  </div>

  <!-- Schedule Container -->
  <div id="schedule-container">

    <!-- A Day -->
    <div class="schedule-day" id="A-day">
      <div class="schedule-card"><h3>A Class</h3><p>8:20â€“9:23</p><p>Chemistry - SC202</p></div>
      <div class="schedule-card"><h3>B Class</h3><p>9:30â€“10:28</p><p>FREE</p></div>
      <div class="schedule-card"><h3>C Class</h3><p>10:35â€“11:33</p><p>Spanish II - MB416</p></div>
      <div class="schedule-card"><h3>Lunch & Formation</h3><p>11:40â€“12:52</p><p>Advisory-TUE</p></div>
      <div class="schedule-card"><h3>D Class</h3><p>12:57â€“1:55</p><p>Modern U.S. History - MB123</p></div>
      <div class="schedule-card"><h3>E Class</h3><p>2:02â€“3:05</p><p>English II - MB314</p></div>
    </div>

    <!-- B Day -->
    <div class="schedule-day hidden" id="B-day">
      <div class="schedule-card"><h3>B Class</h3><p>8:20â€“9:23</p><p>FREE</p></div>
      <div class="schedule-card"><h3>C Class</h3><p>9:30â€“10:28</p><p>Spanish II - MB416</p></div>
      <div class="schedule-card"><h3>Lunch</h3><p>10:35â€“11:03</p></div>
      <div class="schedule-card"><h3>D Class</h3><p>11:10â€“12:08</p><p>Modern U.S. History - MB123</p></div>
      <div class="schedule-card"><h3>Formation</h3><p>12:13â€“12:52</p><p>Advisory-TUE</p></div>
      <div class="schedule-card"><h3>E Class</h3><p>12:57â€“1:55</p><p>English II - MB314</p></div>
      <div class="schedule-card"><h3>F Class</h3><p>2:02â€“3:05</p><p>Sophomore Service - LH125</p></div>
    </div>

    <!-- C Day -->
    <div class="schedule-day hidden" id="C-day">
      <div class="schedule-card"><h3>C Class</h3><p>8:20â€“9:23</p><p>Spanish II - MB416</p></div>
      <div class="schedule-card"><h3>D Class</h3><p>9:30â€“10:28</p><p>Modern U.S. History - MB123</p></div>
      <div class="schedule-card"><h3>Lunch</h3><p>10:35â€“11:03</p></div>
      <div class="schedule-card"><h3>E Class</h3><p>11:10â€“12:08</p><p>English II - MB314</p></div>
      <div class="schedule-card"><h3>Formation</h3><p>12:13â€“12:52</p><p>Advisory-TUE</p></div>
      <div class="schedule-card"><h3>F Class</h3><p>12:57â€“1:55</p><p>Sophomore Service - LH125</p></div>
      <div class="schedule-card"><h3>G Class</h3><p>2:02â€“3:05</p><p>Geometry - LH323</p></div>
    </div>

    <!-- D Day -->
    <div class="schedule-day hidden" id="D-day">
      <div class="schedule-card"><h3>D Class</h3><p>8:20â€“9:23</p><p>Modern U.S. History - MB123</p></div>
      <div class="schedule-card"><h3>E Class</h3><p>9:30â€“10:28</p><p>English II - MB314</p></div>
      <div class="schedule-card"><h3>Lunch</h3><p>10:35â€“11:03</p></div>
      <div class="schedule-card"><h3>F Class</h3><p>11:10â€“12:08</p><p>Sophomore Service - LH125</p></div>
      <div class="schedule-card"><h3>Formation</h3><p>12:13â€“12:52</p><p>Advisory-TUE</p></div>
      <div class="schedule-card"><h3>G Class</h3><p>12:57â€“1:55</p><p>Geometry - LH323</p></div>
      <div class="schedule-card"><h3>A Class</h3><p>2:02â€“3:05</p><p>Chemistry - SC202</p></div>
    </div>

    <!-- E Day -->
    <div class="schedule-day hidden" id="E-day">
      <div class="schedule-card"><h3>E Class</h3><p>8:20â€“9:23</p><p>English II - MB314</p></div>
      <div class="schedule-card"><h3>F Class</h3><p>9:30â€“10:28</p><p>Sophomore Service - LH125</p></div>
      <div class="schedule-card"><h3>G Class</h3><p>10:35â€“11:33</p><p>Geometry - LH323</p></div>
      <div class="schedule-card"><h3>Lunch & Formation</h3><p>11:40â€“12:52</p><p>Advisory-TUE</p></div>
      <div class="schedule-card"><h3>A Class</h3><p>12:57â€“1:55</p><p>Chemistry - SC202</p></div>
      <div class="schedule-card"><h3>B Class</h3><p>2:02â€“3:05</p><p>FREE</p></div>
    </div>

    <!-- F Day -->
    <div class="schedule-day hidden" id="F-day">
      <div class="schedule-card"><h3>F Class</h3><p>8:20â€“9:23</p><p>Sophomore Service - LH125</p></div>
      <div class="schedule-card"><h3>G Class</h3><p>9:30â€“10:28</p><p>Geometry - LH323</p></div>
      <div class="schedule-card"><h3>A Class</h3><p>10:35â€“11:33</p><p>Chemistry - SC202</p></div>
      <div class="schedule-card"><h3>Lunch & Formation</h3><p>11:40â€“12:52</p><p>Advisory-TUE</p></div>
      <div class="schedule-card"><h3>B Class</h3><p>12:57â€“1:55</p><p>FREE</p></div>
      <div class="schedule-card"><h3>C Class</h3><p>2:02â€“3:05</p><p>Spanish II - MB416</p></div>
    </div>

    <!-- G Day -->
    <div class="schedule-day hidden" id="G-day">
      <div class="schedule-card"><h3>G Class</h3><p>8:20â€“9:23</p><p>Geometry - LH323</p></div>
      <div class="schedule-card"><h3>A Class</h3><p>9:30â€“10:28</p><p>Chemistry - SC202</p></div>
      <div class="schedule-card"><h3>B Class</h3><p>10:35â€“11:33</p><p>FREE</p></div>
      <div class="schedule-card"><h3>Lunch & Formation</h3><p>11:40â€“12:52</p><p>Advisory-TUE</p></div>
      <div class="schedule-card"><h3>C Class</h3><p>12:57â€“1:55</p><p>Spanish II - MB416</p></div>
      <div class="schedule-card"><h3>D Class</h3><p>2:02â€“3:05</p><p>Modern U.S. History - MB123</p></div>
    </div>

    <!-- Wednesday -->
    <div class="schedule-day hidden" id="WED-day">
      <div class="schedule-card"><h3>Class 1</h3><p>8:50â€“9:53</p><p>Announcements & First Period</p></div>
      <div class="schedule-card"><h3>Class 2</h3><p>10:00â€“10:58</p><p>Second Period</p></div>
      <div class="schedule-card"><h3>Lunch or Class</h3><p>11:05â€“12:03</p><p>Third Period - Lunch 2 Group</p></div>
      <div class="schedule-card"><h3>Lunch or Class</h3><p>11:40â€“12:38</p><p>Third Period - Lunch 1 Group</p></div>
      <div class="schedule-card"><h3>Break</h3><p>12:38â€“12:57</p></div>
      <div class="schedule-card"><h3>Class 4</h3><p>12:57â€“1:55</p><p>Fourth Period</p></div>
      <div class="schedule-card"><h3>Class 5</h3><p>2:02â€“3:05</p><p>Examen & Fifth Period</p></div>
    </div>

  </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const dayBtn = document.getElementById("dayDropdownBtn");
  const dropdown = document.getElementById("dayDropdown");
  const items = document.querySelectorAll(".dropdown-item");
  const days = document.querySelectorAll(".schedule-day");
  const dayDisplayEl = document.getElementById("school-day");
  const dateTextEl = document.getElementById("dateText");

  // ===== SCHEDULE CLOCK CONFIG =====
  const scheduleOrder = ["A", "F", "D", "B", "G", "E", "C"];
  const startDate = new Date("2025-10-09"); // G Day reference
  const startLetter = "G";

  // PAUSE / NO_CLASSES DAYS
  const overrides = {
    "2025-10-10": "NO_CLASSES", 
    "2025-10-11": "NO_CLASSES"
  };

  function toYMD(date) {
    return date.toISOString().split("T")[0];
  }

  function computeLetterForDate(date) {
    const ymd = toYMD(date);
    if (overrides[ymd]) return overrides[ymd];

    const startIndex = scheduleOrder.indexOf(startLetter);
    let index = startIndex;
    const current = new Date(startDate);

    while (current < date) {
      current.setDate(current.getDate() + 1);
      const dayOfWeek = current.getDay();
      if (dayOfWeek === 0 || dayOfWeek === 6) continue; // Skip weekends
      if (overrides[toYMD(current)] === "NO_CLASSES") continue; // Skip paused days
      index = (index + 1) % scheduleOrder.length;
    }
    return scheduleOrder[index];
  }

  function renderForDate(d) {
    const letter = computeLetterForDate(d);
    if (letter === "NO_CLASSES") {
      dayDisplayEl.textContent = "No Classes Today ðŸŽ‰";
    } else {
      dayDisplayEl.textContent = `${letter} Day`;
    }

    if (dateTextEl) {
      const opts = { weekday: 'long', month: 'short', day: 'numeric', year: 'numeric' };
      dateTextEl.textContent = d.toLocaleDateString(undefined, opts);
    }

    // Show the correct schedule
    const todaySchedule = document.getElementById(`day-${letter}`) ||
                          document.getElementById(`${letter}-day`) ||
                          document.getElementById(letter);
    if (todaySchedule) {
      days.forEach(d => d.classList.add("hidden"));
      todaySchedule.classList.remove("hidden");
      dayBtn.textContent = letter === "NO_CLASSES" ? "No Classes â–¾" : `${letter} Day â–¾`;
    }
  }

  function updateClock() {
    renderForDate(new Date());
  }

  // Initial render + schedule daily update at 12:01 AM
  updateClock();
  const now = new Date();
  const nextUpdate = new Date(now);
  nextUpdate.setDate(now.getDate() + 1);
  nextUpdate.setHours(0, 1, 0, 0);
  setTimeout(() => {
    updateClock();
    setInterval(updateClock, 24 * 60 * 60 * 1000);
  }, nextUpdate - now);

  // ===== DROPDOWN SYSTEM =====
  dropdown.style.overflow = "hidden";
  dropdown.style.maxHeight = "0px";
  dropdown.style.transition = "max-height 0.25s ease";

  dayBtn.addEventListener("click", e => {
    e.stopPropagation();
    dropdown.classList.contains("open") ? closeDropdown() : openDropdown();
  });

  items.forEach(item => {
    item.addEventListener("click", e => {
      e.stopPropagation();
      const selectedDay = item.dataset.day;
      days.forEach(d => d.classList.add("hidden"));
      const target = document.getElementById(`day-${selectedDay}`) ||
                     document.getElementById(`${selectedDay}-day`) ||
                     document.getElementById(selectedDay);
      if (target) target.classList.remove("hidden");
      dayBtn.textContent = item.textContent + " â–¾";
      closeDropdown();
    });
  });

  document.addEventListener("click", e => {
    if (!dropdown.contains(e.target) && e.target !== dayBtn) closeDropdown();
  });

  document.addEventListener("keydown", e => { if (e.key === "Escape") closeDropdown(); });

  function openDropdown() {
    dropdown.classList.add("open");
    dropdown.style.maxHeight = dropdown.scrollHeight + "px";
  }
  function closeDropdown() {
    dropdown.classList.remove("open");
    dropdown.style.maxHeight = "0px";
  }
});
</script>
</body>
</html>
