<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Semester 1 Schedule</title>
  <link rel="icon" href="tab-icon.png" type="image/png">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/feather-icons"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-slate-900 text-gray-200 min-h-screen relative">
 <!-- Clock -->
<div class="day-clock-wrapper">
  <div class="day-clock-card">
    <h2 id="school-day">Loading Day...</h2>
    <p id="dateText"></p>
  </div>
</div>
  <!-- Canvas for particle background -->
  <canvas id="bgCanvas" class="fixed top-0 left-0 w-full h-full -z-10"></canvas>

  <div class="container mx-auto px-4 py-8 max-w-7xl relative z-10">

    <!-- Header -->
    <header class="flex justify-between items-center mb-8">
      <h1 class="text-3xl font-bold text-white">Semester <span class="text-purple-500">1</span></h1>
      <span class="text-gray-300 font-medium">Liam Quinn</span>
    </header>

    <!-- Day Dropdown -->
    <div class="mb-6 relative w-64">
      <button id="dayDropdownBtn" class="w-full bg-slate-800 px-4 py-2 rounded-lg text-white font-medium text-left">
        Select Day ▾
      </button>
      <div id="dayDropdown" class="absolute w-full bg-slate-800 rounded-lg mt-1 hidden shadow-lg">
        <div class="dropdown-item px-4 py-2 cursor-pointer" data-day="A">A Day</div>
        <div class="dropdown-item px-4 py-2 cursor-pointer" data-day="B">B Day</div>
        <div class="dropdown-item px-4 py-2 cursor-pointer" data-day="C">C Day</div>
        <div class="dropdown-item px-4 py-2 cursor-pointer" data-day="D">D Day</div>
        <div class="dropdown-item px-4 py-2 cursor-pointer" data-day="E">E Day</div>
        <div class="dropdown-item px-4 py-2 cursor-pointer" data-day="F">F Day</div>
        <div class="dropdown-item px-4 py-2 cursor-pointer" data-day="G">G Day</div>
        <div class="dropdown-item px-4 py-2 cursor-pointer" data-day="WED">Wednesday</div>
      </div>
    </div>

    <!-- Schedules -->
    <div id="schedule-container">
      <!-- Each day uses the same row structure (2 cards per row; last centered if alone) -->

      <!-- A Day -->
      <div class="schedule-day" id="A-day">
        <div class="schedule-row">
          <div class="schedule-card"><h3>A Class</h3><p class="time">8:20–9:23</p><p class="subject">Chemistry</p><p class="details">SC202</p></div>
          <div class="schedule-card"><h3>Lunch & Formation</h3><p class="time">11:40–12:52</p><p class="subject">Advisory-TUE</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>B Class</h3><p class="time">9:30–10:28</p><p class="subject">FREE</p></div>
          <div class="schedule-card"><h3>D Class</h3><p class="time">12:57–1:55</p><p class="subject">Modern U.S. History</p><p class="details">MB123</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>C Class</h3><p class="time">10:35–11:33</p><p class="subject">Spanish II</p><p class="details">MB416</p></div>
          <div class="schedule-card"><h3>E Class</h3><p class="time">2:02–3:05</p><p class="subject">English II</p><p class="details">MB314</p></div>
        </div>
      </div>

      <!-- B Day -->
      <div class="schedule-day hidden" id="B-day">
        <div class="schedule-row">
          <div class="schedule-card"><h3>B Class</h3><p class="time">8:20–9:23</p><p class="subject">FREE</p></div>
          <div class="schedule-card"><h3>D Class</h3><p class="time">11:10–12:08</p><p class="subject">Modern U.S. History</p><p class="details">MB123</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>C Class</h3><p class="time">9:30–10:28</p><p class="subject">Spanish II</p><p class="details">MB416</p></div>
          <div class="schedule-card"><h3>Formation</h3><p class="time">12:13–12:52</p><p class="subject">Advisory-TUE</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>Lunch</h3><p class="time">10:35–11:03</p></div>
          <div class="schedule-card"><h3>E Class</h3><p class="time">12:57–1:55</p><p class="subject">English II</p><p class="details">MB314</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>F Class</h3><p class="time">2:02–3:05</p><p class="subject">Sophomore Service</p><p class="details">LH125</p></div>
        </div>
      </div>

      <!-- C Day -->
      <div class="schedule-day hidden" id="C-day">
        <div class="schedule-row">
          <div class="schedule-card"><h3>C Class</h3><p class="time">8:20–9:23</p><p class="subject">Spanish II</p><p class="details">MB416</p></div>
          <div class="schedule-card"><h3>E Class</h3><p class="time">11:10–12:08</p><p class="subject">English II</p><p class="details">MB314</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>D Class</h3><p class="time">9:30–10:28</p><p class="subject">Modern U.S. History</p><p class="details">MB123</p></div>
          <div class="schedule-card"><h3>Formation</h3><p class="time">12:13–12:52</p><p class="subject">Advisory-TUE</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>Lunch</h3><p class="time">10:35–11:03</p></div>
          <div class="schedule-card"><h3>F Class</h3><p class="time">12:57–1:55</p><p class="subject">Sophomore Service</p><p class="details">LH125</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>G Class</h3><p class="time">2:02–3:05</p><p class="subject">Geometry</p><p class="details">LH323</p></div>
        </div>
      </div>

      <!-- D Day -->
      <div class="schedule-day hidden" id="D-day">
        <div class="schedule-row">
          <div class="schedule-card"><h3>D Class</h3><p class="time">8:20–9:23</p><p class="subject">Modern U.S. History</p><p class="details">MB123</p></div>
          <div class="schedule-card"><h3>F Class</h3><p class="time">11:10–12:08</p><p class="subject">Sophomore Service</p><p class="details">LH125</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>E Class</h3><p class="time">9:30–10:28</p><p class="subject">English II</p><p class="details">MB314</p></div>
          <div class="schedule-card"><h3>Formation</h3><p class="time">12:13–12:52</p><p class="subject">Advisory-TUE</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>Lunch</h3><p class="time">10:35–11:03</p></div>
          <div class="schedule-card"><h3>G Class</h3><p class="time">12:57–1:55</p><p class="subject">Geometry</p><p class="details">LH323</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>A Class</h3><p class="time">2:02–3:05</p><p class="subject">Chemistry</p><p class="details">SC202</p></div>
        </div>
      </div>

      <!-- E Day -->
      <div class="schedule-day hidden" id="E-day">
        <div class="schedule-row">
          <div class="schedule-card"><h3>E Class</h3><p class="time">8:20–9:23</p><p class="subject">English II</p><p class="details">MB314</p></div>
          <div class="schedule-card"><h3>Lunch & Formation</h3><p class="time">11:40–12:52</p><p class="subject">Advisory-TUE</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>F Class</h3><p class="time">9:30–10:28</p><p class="subject">Sophomore Service</p><p class="details">LH125</p></div>
          <div class="schedule-card"><h3>A Class</h3><p class="time">12:57–1:55</p><p class="subject">Chemistry</p><p class="details">SC202</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>G Class</h3><p class="time">10:35–11:33</p><p class="subject">Geometry</p><p class="details">LH323</p></div>
          <div class="schedule-card"><h3>B Class</h3><p class="time">2:02–3:05</p><p class="subject">FREE</p></div>
        </div>
      </div>

      <!-- F Day -->
      <div class="schedule-day hidden" id="F-day">
        <div class="schedule-row">
          <div class="schedule-card"><h3>F Class</h3><p class="time">8:20–9:23</p><p class="subject">Sophomore Service</p><p class="details">LH125</p></div>
          <div class="schedule-card"><h3>Lunch & Formation</h3><p class="time">11:40–12:52</p><p class="subject">Advisory-TUE</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>G Class</h3><p class="time">9:30–10:28</p><p class="subject">Geometry</p><p class="details">LH323</p></div>
          <div class="schedule-card"><h3>B Class</h3><p class="time">12:57–1:55</p><p class="subject">FREE</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>A Class</h3><p class="time">10:35–11:33</p><p class="subject">Chemistry</p><p class="details">SC202</p></div>
          <div class="schedule-card"><h3>C Class</h3><p class="time">2:02–3:05</p><p class="subject">Spanish II</p><p class="details">MB416</p></div>
        </div>
      </div>

      <!-- G Day -->
      <div class="schedule-day hidden" id="G-day">
        <div class="schedule-row">
          <div class="schedule-card"><h3>G Class</h3><p class="time">8:20–9:23</p><p class="subject">Geometry</p><p class="details">LH323</p></div>
          <div class="schedule-card"><h3>Lunch & Formation</h3><p class="time">11:40–12:52</p><p class="subject">Advisory-TUE</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>A Class</h3><p class="time">9:30–10:28</p><p class="subject">Chemistry</p><p class="details">SC202</p></div>
          <div class="schedule-card"><h3>C Class</h3><p class="time">12:57–1:55</p><p class="subject">Spanish II</p><p class="details">MB416</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>B Class</h3><p class="time">10:35–11:33</p><p class="subject">FREE</p></div>
          <div class="schedule-card"><h3>D Class</h3><p class="time">2:02–3:05</p><p class="subject">Modern U.S. History</p><p class="details">MB123</p></div>
        </div>
      </div>

      <!-- Wednesday Delayed Start -->
      <div class="schedule-day hidden" id="WED-day">
        <div class="schedule-row">
          <div class="schedule-card"><h3>Class 1</h3><p class="time">8:50–9:53</p><p>Announcements & First Period</p></div>
          <div class="schedule-card"><h3>Class 2</h3><p class="time">10:00–10:58</p><p>Second Period Class</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>Lunch or Class</h3><p class="time">11:05–12:03</p><p>Third Period Class - Lunch 2 Group</p></div>
          <div class="schedule-card"><h3>Lunch or Class</h3><p class="time">11:40–12:38</p><p>Third Period Class - Lunch 1 Group</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>Break</h3><p class="time">12:38–12:57</p></div>
          <div class="schedule-card"><h3>Class 4</h3><p class="time">12:57–1:55</p><p>Fourth Period Class</p></div>
        </div>
        <div class="schedule-row">
          <div class="schedule-card"><h3>Class 5</h3><p class="time">2:02–3:05</p><p>Examen & Fifth Period Class</p></div>
        </div>
      </div>

    </div>
  </div>

<script>
// ===== Feather icons =====
feather.replace();

// ===== Day Dropdown =====
const dayBtn = document.getElementById("dayDropdownBtn");
const dropdown = document.getElementById("dayDropdown");
const items = document.querySelectorAll(".dropdown-item");
const days = document.querySelectorAll(".schedule-day");

dayBtn.addEventListener("click", () => {
  dropdown.classList.toggle("hidden");
});

items.forEach(item => {
  item.addEventListener("click", () => {
    const day = item.dataset.day;
    days.forEach(d => d.classList.add("hidden"));
    document.getElementById(day + "-day").classList.remove("hidden");
    dayBtn.textContent = item.textContent + " ▾";
    dropdown.classList.add("hidden");
  });
});

// ===== Smooth Card Cursor-Follow Effect =====
const cards = document.querySelectorAll(".schedule-card");
let mouse = { x: 0, y: 0 };
window.addEventListener("mousemove", e => {
  mouse.x = e.clientX;
  mouse.y = e.clientY;
});

function animateCards() {
  cards.forEach(card => {
    const rect = card.getBoundingClientRect();
    const cardX = rect.left + rect.width / 2;
    const cardY = rect.top + rect.height / 2;

    const deltaX = mouse.x - cardX;
    const deltaY = mouse.y - cardY;

    const currentX = parseFloat(card.dataset.tx || 0);
    const currentY = parseFloat(card.dataset.ty || 0);

    const easedX = currentX + (deltaX * 0.03);
    const easedY = currentY + (deltaY * 0.03);

    card.dataset.tx = easedX;
    card.dataset.ty = easedY;

    card.style.setProperty("--mouseX", easedX);
    card.style.setProperty("--mouseY", easedY);
  });

  requestAnimationFrame(animateCards);
}

animateCards();

cards.forEach(card => {
  card.addEventListener("mouseleave", () => {
    card.dataset.tx = 0;
    card.dataset.ty = 0;
  });
});

// ===== Mouse-following particles =====
const canvas = document.getElementById("bgCanvas");
const ctx = canvas.getContext("2d");
let particles = [];
const particleCount = 60;

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

class Particle {
  constructor(x, y) {
    this.x = x;
    this.y = y;
    this.size = Math.random() * 3 + 1;
    this.speedX = Math.random() * 2 - 1;
    this.speedY = Math.random() * 2 - 1;
    this.color = `rgba(139,92,246,${Math.random() * 0.5 + 0.2})`;
  }
  update() {
    this.x += this.speedX;
    this.y += this.speedY;
    if(this.x < 0 || this.x > canvas.width) this.speedX *= -1;
    if(this.y < 0 || this.y > canvas.height) this.speedY *= -1;
  }
  draw() {
    ctx.fillStyle = this.color;
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
    ctx.fill();
  }
}

for(let i = 0; i < particleCount; i++){
  particles.push(new Particle(Math.random()*canvas.width, Math.random()*canvas.height));
}

window.addEventListener('mousemove', e => {
  particles.push(new Particle(e.x + Math.random()*20-10, e.y + Math.random()*20-10));
  if(particles.length > particleCount) particles.shift();
});

function animateParticles() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  particles.forEach(p => {
    p.update();
    p.draw();
  });
  requestAnimationFrame(animateParticles);
}
animateParticles();

// ===== Redirect mobile users =====
if (window.innerWidth <= 768) {
  window.location.href = "https://mlndmaster-studios.github.io/school-schedule/mobile/";
}

// ===== Automatic School Day Clock =====
const sequence = ['A','F','D','B','G','E','C'];
const referenceDateStr = '2025-10-09'; // Known: 2025-10-09 is G day
const referenceLetter = 'G';

const overrides = {
  // Add days off or special cases here, for example:
  // "2025-10-10": "No Classes",
  // "2025-10-14": "F"
};

function toYMD(d) {
  const yyyy = d.getFullYear();
  const mm = String(d.getMonth() + 1).padStart(2,'0');
  const dd = String(d.getDate()).padStart(2,'0');
  return `${yyyy}-${mm}-${dd}`;
}
function parseYMD(s) {
  const [y,m,d] = s.split('-').map(Number);
  return new Date(y, m-1, d);
}
function isWeekendDateObj(d) {
  const day = d.getDay();
  return day === 0 || day === 6;
}
function isLetter(val) {
  return typeof val === 'string' && sequence.includes(val.toUpperCase());
}

function computeLetterForDate(targetDate) {
  const refDate = parseYMD(referenceDateStr);
  let currentIndex = sequence.indexOf(referenceLetter);
  const refStr = toYMD(refDate);
  const ov = {...overrides};
  const targetStr = toYMD(targetDate);
  const forward = (+targetDate) >= (+refDate);
  let iterDate = new Date(refDate.getTime());

  if (ov[refStr] !== undefined && isLetter(ov[refStr])) {
    currentIndex = sequence.indexOf(ov[refStr].toUpperCase());
  }

  while (toYMD(iterDate) !== targetStr) {
    iterDate.setDate(iterDate.getDate() + (forward ? 1 : -1));
    const iterStr = toYMD(iterDate);

    if (ov[iterStr] !== undefined) {
      if (isLetter(ov[iterStr])) currentIndex = sequence.indexOf(ov[iterStr].toUpperCase());
      continue;
    }
    if (isWeekendDateObj(iterDate)) continue;

    if (forward) {
      currentIndex = (currentIndex + 1) % sequence.length;
    } else {
      currentIndex = (currentIndex - 1 + sequence.length) % sequence.length;
    }
  }

  if (ov[targetStr] !== undefined) {
    return isLetter(ov[targetStr]) ? ov[targetStr].toUpperCase() : 'NO_CLASSES';
  }

  return sequence[currentIndex];
}

const dayDisplayEl = document.getElementById('school-day');
const dateTextEl = document.getElementById('dateText');

function renderForDate(d) {
  const letter = computeLetterForDate(d);
  const dateStr = toYMD(d);

  if (letter === 'NO_CLASSES') {
    dayDisplayEl.textContent = 'No Classes Today 🎉';
  } else {
    dayDisplayEl.textContent = `${letter} Day 🎉`;
  }

  if (dateTextEl) {
    const opts = { weekday: 'long', month: 'short', day: 'numeric', year: 'numeric' };
    dateTextEl.textContent = d.toLocaleDateString(undefined, opts);
  }
}

function msUntilNext0001() {
  const now = new Date();
  const tomorrow = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 0, 1, 0, 0);
  return tomorrow - now;
}

let nextTimeoutId = null;
function scheduleNextUpdate() {
  clearTimeout(nextTimeoutId);
  nextTimeoutId = setTimeout(() => {
    renderForDate(new Date());
    scheduleNextUpdate();
  }, msUntilNext0001() + 50);
}

(function initDayClock() {
  renderForDate(new Date());
  scheduleNextUpdate();
  document.addEventListener('visibilitychange', () => {
    if (!document.hidden) renderForDate(new Date());
  });
  setInterval(() => renderForDate(new Date()), 60 * 1000);
})();
</script>

</body>
</html>
